<!doctype html>
<html>
	<head>
		<title>IETS NIEUWS</title>
		<style>
		</style>
		<!-- Include the volume meter component -->
		<script src="./volume-meter/volume-meter.js"></script>
		<!-- Include the main app logic -->
		<script src="./volume-meter/main.js"></script>
		<script src="./videos.js"></script>

</head>
	<body bgcolor="black" onload="startvid()">
		<div align=center id="header" style="color:#FFFFFF">
			<h1><font face="adventure"> IETS NIEUWS: <br/> Bent u de nieuwe Philip Bloemendal? </h1>
			
			
		</div>	
		
			<div align=center id="main">
				<video width="850px" id="player" src="http://www.openbeelden.nl/files/30/30701.30640.WEEKNUMMER501-HRE0000E80C.mp4#t=10" autoplay muted> </video>
			
				<br/>
				
				
				<span id="countdown" class="timer"></span><br/>
				
				VOLUME: <canvas id="meter" width="500" height="50"></canvas>
			
			<br/>
				
				 <button id=buttonNext1 style="width:150px;height:60px;background-color:#008000">Natuur</button>
				 <button id=buttonNext2 style="width:150px;height:60px;background-color:#FF0000">Kunst en Cultuur</button>
				 <button id=buttonNext3 style="width:150px;height:60px;background-color:#3399FF">Sport</button>
				 <button id=buttonNext4 style="width:150px;height:60px;background-color:#FFFF00">Stad en Transport</button>
			</div>
		</div>

		<script>
		// DIT IS DE COUNTER
			var seconds = 30;
			function secondPassed() {
				var minutes = Math.round((seconds - 30)/60);
				var remainingSeconds = seconds % 60;
				if (remainingSeconds < 10) {
					remainingSeconds = "0" + remainingSeconds;  
				}
				document.getElementById('countdown').innerHTML = minutes + ":" + remainingSeconds;
				if (seconds == 0) {
					clearInterval(countdownTimer);
					if (score < 1200){
						window.location.href = "index_random.html";
						}
					else{	
						window.location.href = "index_philip.html";
						}
				} 
				else {
					seconds--;
				}
			}
		
			var countdownTimer = setInterval('secondPassed()', 1000);
		</script>

	</body>
	<script>
 var score = 0;
 var readyForReload = 0;

 
 
 /* use global variable for ease */
 var v = document.getElementById('player');
 /*  button */
 document.getElementById('buttonNext1').addEventListener('click',swapVideo1,true);
 document.getElementById('buttonNext2').addEventListener('click',swapVideo2,true);
 document.getElementById('buttonNext3').addEventListener('click',swapVideo3,true);
 document.getElementById('buttonNext4').addEventListener('click',swapVideo4,true);
 
 
 /* Key press listener*/
 window.addEventListener("keydown", checkKeyPressed, false);
 
function checkKeyPressed(e) {
	if(readyForReload == 1) {location.reload();}

    if (e.keyCode == "81") {
        //alert("The 'q' key is pressed.");
		var nextVid =  oiVids1[Math.floor(Math.random() * oiVids1.length)];  
		v.src = nextVid;
		v.load();
		document.getElementById( "timerarea" ).value = "29";
    }
	if (e.keyCode == "87") {
       //alert("The 'w' key is pressed.");
	   	var nextVid =  oiVids2[Math.floor(Math.random() * oiVids2.length)];  
		v.src = nextVid;
		v.load();
    }
	if (e.keyCode == "69") {
        //alert("The 'e' key is pressed.");
		var nextVid =  oiVids3[Math.floor(Math.random() * oiVids3.length)];  
		v.src = nextVid;
		v.load();
    }
	if (e.keyCode == "82") {
        //alert("The 'r' key is pressed.");
		var nextVid =  oiVids4[Math.floor(Math.random() * oiVids4.length)];  
		v.src = nextVid;
		v.load();
    }
}
 
 function startvid(){
 /* change the video src attribute to a random selection */
	var nextVid =  oiVids1[Math.floor(Math.random() * oiVids1.length)];  
  v.src = nextVid;
  v.load();
 }
 
  function swapVideo1(e) {
  /* change the video src attribute to a random selection */
	var nextVid =  oiVids1[Math.floor(Math.random() * oiVids1.length)];  
  v.src = nextVid;
  v.load();
 }
   function swapVideo2(e) {
  /* change the video src attribute to a random selection */
	var nextVid =  oiVids2[Math.floor(Math.random() * oiVids2.length)];  
  v.src = nextVid;
  v.load();
 }  function swapVideo3(e) {
  /* change the video src attribute to a random selection */
	var nextVid =  oiVids3[Math.floor(Math.random() * oiVids3.length)];  
  v.src = nextVid;
  v.load();
 }  function swapVideo4(e) {
  /* change the video src attribute to a random selection */
	var nextVid =  oiVids4[Math.floor(Math.random() * oiVids4.length)];  
  v.src = nextVid;
  v.load();
 }
 
 
</script>
</html>